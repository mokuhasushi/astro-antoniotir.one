---
const { id, title = "YouTube video" } = Astro.props;
const thumbnail = `https://img.youtube.com/vi/${id}/hqdefault.jpg`;
---

<style>
.wrapper {
  position: relative;
  aspect-ratio: 16/9;
  cursor: pointer;
}
.wrapper img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}
.play {
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  font-size: 4rem;
  color: white;
  background: rgba(0,0,0,0.3);
}
</style>

<div class="video-wrapper" onclick="this.innerHTML = `<iframe src='https://www.youtube.com/embed/${id}?autoplay=1' allow='autoplay; encrypted-media' allowfullscreen></iframe>`">
  <img src={thumbnail} alt={title} loading="lazy" />
  <div class="play">â–¶</div>
</div>
